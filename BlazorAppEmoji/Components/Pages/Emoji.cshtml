@page "/emoji"
@using BlazorAppEmoji
@inject EmojiTranslatorService EmojiService

<h3>Emoji Translator ðŸ˜„</h3>

<input @bind="inputText" placeholder="Enter something like 'happy'" class="form-control mb-2" />
<button @onclick="Translate" class="btn btn-primary">Translate</button>

@if (!string.IsNullOrWhiteSpace(translatedEmoji))
{
    <p class="mt-3">Result: <span style="font-size: 2rem">@translatedEmoji</span></p>
}
else if (searched)
{
    <p class="mt-3 text-danger">No emoji found.</p>
}

<hr />

<h4>All Emojis</h4>
<ul>
    @foreach (var kv in allEmojis)
    {
        <li>@kv.Key â†’ @kv.Value</li>
    }
</ul>

@code {
    private string inputText = "";
    private string? translatedEmoji = null;
    private bool searched = false;
    private Dictionary<string, string> allEmojis = new();

    protected void OnInitialized()
    {
        allEmojis = EmojiService.GetAll();
    }

    private void Translate()
    {
        searched = true;
        translatedEmoji = EmojiService.Translate(inputText);
    }
}